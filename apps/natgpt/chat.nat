initialize:
   #print 'Welcome' to 'Natlog' based gpt3 chat app !,
   #print 'Please' obtain and set the environment variable 'OPENAI_API_KEY' !,
   #print,
   #print 'Type' chat to start interacting with 'GPT3' via 'Natlog',
   #print 'Type' pic to have 'DALL_E 2' turn a sentence into a pic in your browser,
   #print.

prompt Kind QuestText =>
   prefix Kind,
   sent QuestText,
   suffix Kind.

sent QuestText Ws1 Ws2 :
     `split QuestText List,
     to_cons_list List Ws,
     append Ws Ws2 Ws1.


query Kind Q A:
    prompt Kind Q Ps (),
   to_list Ps List,
   `join List P,
   `complete P A.

step Kind :
   `get_input (the Q),
   query Kind Q A,
   #print A.

chat Kind : step Kind , ^trust chat Kind.


prefix question =>   @ 'If' you would ask me.
suffix question =>  @ 'I' would say that.


prefix relation =>
   @ 'If' you would ask me what are the subject and the verb and the object in .
suffix relation =>
   @  'I' would say subject is.


trigger X Y Z => @ given that X relates to Y
   by analogy
  'I' would briefly say that Z relates to .

analogy X Y Z A:
   trigger X Y Z Ps (),
   to_list Ps List,
   `join List P,
   `complete P A.

paint Prompt:
   `paint Prompt URL,
   #print URL,
   #browse URL.


% tests

rels:
   query relation 'the quick brown fox jumps over the lazy dog' R,
   #print subject is R.

quests:
   query question 'how are transformers used in GPT' A,
   #print A.

analogies:
 analogy car driver airplane A,
  #print A,
  analogy 'Pepsi' advertizing 'Goering' B,
  #print B,
  analogy 'Texas' tornado company C,
  #print C.

pic:
   paint 'shiny robot with high hills and a blue purse walking on Mars'.

image => style, subject, verb, object.

style => @photorealistic rendering.
style => @a dreamy 'Mark' 'Chagall' style picture.
style => @an action video game graphics style image.

subject => @of, adjective,noun.

noun => @robot.

verb => @walking.

adjective => @shiny.

object => location, @with,  instrument.

location => @on planet 'Mars'.

instrument => @high hills and a blue purse.
instrument => @a sombrero hat.

pics: image Words (), `to_tuple Words Ws, #writeln Ws, fail.
pics.

